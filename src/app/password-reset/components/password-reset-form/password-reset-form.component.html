<div [class.invisible]="resetAction ==='new-pw'">
  <form #form="ngForm"
        novalidate>
    <div [class.invisible]="resetResponse" >
      <input type="email"
             name="email"
             [ngModel]="credentials?.email"
             #email = "ngModel"
             placeholder="Enter Email"
             pattern="^[a-zA-Z0â€“9\_\.\+\-]+\@[a-zA-Z0â€“9\-]+\.[a-zA-Z0â€“9\-\.]+$"
             (blur)="onBlur($event, email)"
             required>
      <div class="row" id="validation-container">
        <div [class.invisible]="!(!emailValid && email.touched)"
             class="invisible">
          ðŸ¤” A valid email address is required
        </div>
       </div>
      <div id="button-container" class="row">
        <div class="box">
          <div class="center-xs">
            <button type="submit"
                    class="button button-primary"
                    id="reset"
                    (click)="reset(form.value, form.valid)"
                    [disabled]="!email.valid">RESET PASSWORD</button>
          </div>
        </div>
        <br />
        <div class="box">
          <div class="center-xs">
            <a routerLink="/sign_in">
              <button class="button button-primary"
                      id="cancel">CANCEL</button>
            </a>
          </div>
        </div>
      </div>
    </div>
    <div [class.invisible]="!resetResponse">
      <div class="box">
        <div class="center-xs">
          <a routerLink="/sign_in">
            <button class="button button-primary">LOGIN</button>
          </a>
        </div>
      </div>
      <br />
      <div class="box">
        <div class="center-xs">
          <button class="button button-primary"
                  (click)="reset(form.value, form.valid)"
                  id="cancel">SEND AGAIN</button>
        </div>
      </div>
    </div>
  </form>
</div>
<div *ngIf="resetAction =='new-pw'">
  <form #pwReset="ngForm"
        (ngSubmit)="submitPw(pwReset.valid, pwReset.value)">
    <input type="password"
           name="pw"
           [ngModel]="password"
           placeholder="New Password..."
           minlength="8"
           #pw="ngModel"
           required>
    <br />
    <input type="password"
           name="confirmPw"
           [ngModel]="passwordConfirmation"
           placeholder="Password Confirmation..."
           validateEqual="pw"
           #confirmPw="ngModel">
    <br />
    <div *ngIf="pw.errors && ((pw.touched || pw.dirty) && pwReset.submitted)">
      <p [hidden]="!pwReset.submitted && pw.errors.required">Password Required</p>
      <p [hidden]="!pw.errors.minlength">Password too Short</p>
      <p [hidden]="pw === confirmPw" >Passwords do not Match</p>
    </div>
        <div class="center-xs">
          <button type="submit"
                  class="button button-primary">Submit</button>
        </div>
  </form>
</div>
